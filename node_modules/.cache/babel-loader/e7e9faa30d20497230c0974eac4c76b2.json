{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nahue\\\\Desktop\\\\Repo\\\\Ejercicios Portafolio\\\\ej3\\\\src\\\\components\\\\game.js\";\nimport React, { Component } from \"react\";\nimport Cards from \"../data/data\";\nimport Card from \"./Card\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Game extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      startTime: null,\n      cards: Cards,\n      counter: 0,\n      validCards: [],\n      pair: [],\n      errorCounter: 0\n    };\n\n    this.ShowCard = id => {\n      var cards = this.state.cards;\n      cards[id - 1].hidden = cards[id - 1].hidden === false ? true : false;\n      this.setState({\n        cards\n      });\n    };\n\n    this.CalculateTime = () => {\n      var today = new Date();\n      var date = today.getFullYear() + \"/\" + (today.getMonth() + 1) + \"/\" + today.getDate();\n      var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n      var dateTime = date + \" \" + time;\n      return dateTime;\n    };\n\n    this.SetTime = () => {\n      if (this.state.startTime == null) {\n        var startTime = this.state.startTime;\n        startTime = this.CalculateTime();\n        this.setState({\n          startTime\n        });\n      }\n    };\n\n    this.HandleClick = id => {\n      console.log(id);\n      console.log(this.state.startTime);\n      this.SetTime();\n      console.log(\"errores: \", this.state.errorCounter);\n\n      if (!this.state.pair.includes(id) && !this.state.validCards.includes(id)) {\n        // Si el usuario clickea una carta ya clickeada o ya valida, no hace nada\n        this.ShowCard(id);\n        this.IncrementCounter(id);\n        console.log(this.state.pair);\n\n        if (this.state.pair.length === 2) {\n          this.CheckPair();\n          this.ResetPair();\n        }\n      }\n\n      console.log(\"validCards: \", this.state.validCards.length);\n\n      if (this.state.validCards.length == 16) {\n        // Si el juego termina, te muestra el tiempo pasado y los errores\n        console.log(\"juego terminado skeree\");\n        var endTime = this.CalculateTime();\n        console.log(\"endTime: \", endTime);\n        var elapsedTime = moment.utc(moment(endTime, \"DD/MM/YYYY HH:mm:ss\").diff(moment(this.state.startTime, \"DD/MM/YYYY HH:mm:ss\"))).format(\"HH:mm:ss\");\n        window.alert(\"Juego terminado! tiempo transcurrido: \" + elapsedTime);\n      }\n    };\n  }\n\n  IncrementCounter(id) {\n    var pair = this.state.pair;\n    pair.push(id);\n    this.setState({\n      pair\n    });\n  }\n\n  IncrementErrorCounter() {\n    var errorCounter = this.state.errorCounter;\n    errorCounter = errorCounter + 1;\n    this.setState({\n      errorCounter\n    });\n  }\n\n  CheckPair() {\n    console.log(\"checking pair\");\n\n    if (this.state.cards[this.state.pair[0] - 1].color === this.state.cards[this.state.pair[1] - 1].color) {\n      window.alert(\"los colores son iguales\");\n      this.SaveValidCards(this.state.pair[0], this.state.pair[1]);\n    } else {\n      window.alert(\"los colores no son iguales\");\n      this.IncrementErrorCounter();\n      this.HideCards();\n    }\n  }\n\n  ResetPair() {\n    var pair = [];\n    this.setState({\n      pair\n    });\n  }\n\n  SaveValidCards(id1, id2) {\n    var validCards = this.state.validCards;\n    validCards.push(id1);\n    validCards.push(id2);\n    this.setState({\n      validCards\n    });\n  }\n\n  HideCards() {\n    var cards = this.state.cards;\n    cards[this.state.pair[0] - 1].hidden = true;\n    cards[this.state.pair[1] - 1].hidden = true;\n    this.setState({\n      cards\n    });\n  }\n\n  GetClass(id) {\n    return \"card grid-item\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-container\",\n      style: {\n        border: \"1px solid #000\"\n      },\n      children: this.state.cards.map(card => /*#__PURE__*/_jsxDEV(Card, {\n        onClick: this.HandleClick,\n        card: card,\n        class: this.GetClass,\n        color: card.hidden === true ? \"black\" : card.color\n      }, card.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["C:/Users/nahue/Desktop/Repo/Ejercicios Portafolio/ej3/src/components/game.js"],"names":["React","Component","Cards","Card","moment","Game","state","startTime","cards","counter","validCards","pair","errorCounter","ShowCard","id","hidden","setState","CalculateTime","today","Date","date","getFullYear","getMonth","getDate","time","getHours","getMinutes","getSeconds","dateTime","SetTime","HandleClick","console","log","includes","IncrementCounter","length","CheckPair","ResetPair","endTime","elapsedTime","utc","diff","format","window","alert","push","IncrementErrorCounter","color","SaveValidCards","HideCards","id1","id2","GetClass","render","border","map","card"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Cards from \"../data/data\";\r\nimport Card from \"./Card\";\r\nimport moment from \"moment\";\r\n\r\nclass Game extends Component {\r\n  state = {\r\n    startTime: null,\r\n    cards: Cards,\r\n    counter: 0,\r\n    validCards: [],\r\n    pair: [],\r\n    errorCounter: 0,\r\n  };\r\n\r\n  ShowCard = (id) => {\r\n    var cards = this.state.cards;\r\n    cards[id - 1].hidden = cards[id - 1].hidden === false ? true : false;\r\n    this.setState({ cards });\r\n  };\r\n\r\n  IncrementCounter(id) {\r\n    var pair = this.state.pair;\r\n    pair.push(id);\r\n    this.setState({ pair });\r\n  }\r\n\r\n  IncrementErrorCounter() {\r\n    var errorCounter = this.state.errorCounter;\r\n    errorCounter = errorCounter + 1;\r\n    this.setState({ errorCounter });\r\n  }\r\n\r\n  CheckPair() {\r\n    console.log(\"checking pair\");\r\n    if (\r\n      this.state.cards[this.state.pair[0] - 1].color ===\r\n      this.state.cards[this.state.pair[1] - 1].color\r\n    ) {\r\n      window.alert(\"los colores son iguales\");\r\n      this.SaveValidCards(this.state.pair[0], this.state.pair[1]);\r\n    } else {\r\n      window.alert(\"los colores no son iguales\");\r\n      this.IncrementErrorCounter();\r\n      this.HideCards();\r\n    }\r\n  }\r\n\r\n  ResetPair() {\r\n    var pair = [];\r\n    this.setState({ pair });\r\n  }\r\n\r\n  SaveValidCards(id1, id2) {\r\n    var validCards = this.state.validCards;\r\n    validCards.push(id1);\r\n    validCards.push(id2);\r\n    this.setState({ validCards });\r\n  }\r\n\r\n  HideCards() {\r\n    var cards = this.state.cards;\r\n    cards[this.state.pair[0] - 1].hidden = true;\r\n    cards[this.state.pair[1] - 1].hidden = true;\r\n    this.setState({ cards });\r\n  }\r\n\r\n  CalculateTime = () => {\r\n    var today = new Date();\r\n    var date =\r\n      today.getFullYear() +\r\n      \"/\" +\r\n      (today.getMonth() + 1) +\r\n      \"/\" +\r\n      today.getDate();\r\n    var time =\r\n      today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n    var dateTime = date + \" \" + time;\r\n    return dateTime;\r\n  };\r\n\r\n  SetTime = () => {\r\n    if (this.state.startTime == null) {\r\n      var startTime = this.state.startTime;\r\n      startTime = this.CalculateTime();\r\n      this.setState({ startTime });\r\n    }\r\n  };\r\n\r\n  HandleClick = (id) => {\r\n    console.log(id);\r\n    console.log(this.state.startTime);\r\n    this.SetTime();\r\n    console.log(\"errores: \", this.state.errorCounter);\r\n    if (!this.state.pair.includes(id) && !this.state.validCards.includes(id)) {\r\n      // Si el usuario clickea una carta ya clickeada o ya valida, no hace nada\r\n      this.ShowCard(id);\r\n      this.IncrementCounter(id);\r\n      console.log(this.state.pair);\r\n      if (this.state.pair.length === 2) {\r\n        this.CheckPair();\r\n        this.ResetPair();\r\n      }\r\n    }\r\n    console.log(\"validCards: \", this.state.validCards.length);\r\n    if (this.state.validCards.length == 16) {\r\n      // Si el juego termina, te muestra el tiempo pasado y los errores\r\n      console.log(\"juego terminado skeree\");\r\n      var endTime = this.CalculateTime();\r\n      console.log(\"endTime: \", endTime);\r\n      var elapsedTime = moment\r\n        .utc(\r\n          moment(endTime, \"DD/MM/YYYY HH:mm:ss\").diff(\r\n            moment(this.state.startTime, \"DD/MM/YYYY HH:mm:ss\")\r\n          )\r\n        )\r\n        .format(\"HH:mm:ss\");\r\n      window.alert(\"Juego terminado! tiempo transcurrido: \" + elapsedTime);\r\n    }\r\n  };\r\n\r\n  GetClass(id) {\r\n    return \"card grid-item\";\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"grid-container\" style={{ border: \"1px solid #000\" }}>\r\n        {this.state.cards.map((card) => (\r\n          <Card\r\n            onClick={this.HandleClick}\r\n            key={card.id}\r\n            card={card}\r\n            class={this.GetClass}\r\n            color={card.hidden === true ? \"black\" : card.color}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n"]},"metadata":{},"sourceType":"module"}